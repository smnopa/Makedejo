---
import Layout from '../layouts/Layout.astro';
import ItemCartIndex from '../components/ItemCartIndex.astro';
import Coments from '../components/Coments.astro';

---

<Layout isHomePage={false} title="Makedejo">
	<section class="relative z-0 h-[72vh]">
	  <div class="relative w-full h-full">
		<!-- Video para pantallas móviles (vertical) -->
		<video muted autoplay loop playsinline class="object-cover w-full h-full md:hidden">
		  <source src="/img/videos/videoHomePageMovile.mp4" type="video/mp4">
		  Tu navegador no soporta el video.
		</video>
  
		<!-- Video para pantallas grandes (horizontal) -->
		<video muted autoplay loop playsinline class="hidden md:block object-cover w-full h-full">
		  <source src="/img/videos/videoHomePage.mp4" type="video/mp4">
		</video>
  
		<!-- Texto superpuesto -->
		<div class="absolute inset-0 flex justify-start">
		  <!-- Tener en cuenta estos márgenes para el resto de la página -->
		  <h1 class="font-bold text-white text-3xl mt-11 ml-8 sm:text-4xl lg:text-4xl xl:text-5xl xl:ml-52 xl:mt-20">
			<span class="block xl:hidden">
			  “No es lo mismo imaginar una experiencia que vivirla”
			</span>
			<span class="hidden xl:block">
			  “No es lo mismo imaginar una<br>experiencia que vivirla”
			</span>
		  </h1>
		</div>
	  </div>
	</section>

	<!--TitleDescription-->
	<section class="py-16 px-8 text-center">
		<div class="mb-8">
			<h1 class="text-3xl sm:text-4xl lg:text-5xl font-bold text-[#0A3A4E]">
				Bienvenidos a Makedejo, vive tu experiencia
			</h1>
		</div>
		<div class="max-w-fit xl mx-auto text-lg text-gray-500 leading-relaxed 2xl:px-40">
			<p>
				MaKedejo es una agencia de viajes dedicada a ofrecer experiencias únicas e inolvidables para los
				amantes de la aventura y la cultura. Especializada en destinos sorprendentes, nuestra misión es llevarte
				a explorar los rincones más bellos y auténticos de Colombia, conectándote con la esencia de cada lugar.
				¡Con MaKedejo, viajar se convierte en un arte!
			</p>
		</div>
	</section>
	
	 <!--Carrousel de Cartas-->
	<section class="flex flex-col xl:flex-row justify-center items-center mb-9 carousel-container" data-card-width="320">
		<h1 class="text-3xl sm:text-4xl lg:text-5xl font-bold text-[#0A3A4E] text-center lg:text-center mb-6 lg:mb-0 lg:mr-8">
			¿A dónde<br>quieres viajar?
		</h1>
	<div class="relative w-full max-w-4xl mx-8">	  
		<!-- Botón para ir a la izquierda -->
		<button class="prev absolute top-1/2 left-0 transform -translate-y-1/2 bg-white p-3 rounded-lg shadow-lg text-gray-800 text-xl">
			&#10094;
		</button>	  
	  <!-- Contenedor de las cartas -->
	  <div class="carousel flex overflow-hidden scroll-smooth space-x-4 w-full">
			<!-- Aquí van las cartas ItemCartIndex -->
			<div class="flex-shrink-0 w-80">
				<ItemCartIndex />
			</div>
			<div class="flex-shrink-0 w-80">
				<ItemCartIndex />
			</div>
			<div class="flex-shrink-0 w-80">
				<ItemCartIndex />
			</div>
			<div class="flex-shrink-0 w-80">
				<ItemCartIndex />
			</div>
	  </div>  
	  <!-- Botón para ir a la derecha -->
		<button class="next absolute top-1/2 right-0 transform -translate-y-1/2 bg-white p-3 rounded-lg shadow-lg text-gray-800 text-xl">
			&#10095;
		</button>
	</div>
  </section>

<!-- Sección de descuentos -->
<section class="relative mx-auto py-10 bg-[#0A3A4E] carousel-container" data-card-width="320">
	<div class="relative flex overflow-hidden w-full carousel">
	  <!-- Vista 1 (dos imágenes) -->
	  <div class="flex-shrink-0 w-full flex flex-col md:flex-row">
		<!-- Imagen con texto superpuesto -->
		<div class="relative w-full md:w-1/2 h-72 md:h-96">
		  <img src="img/images/imgBeach.webp" alt="Descuento 1" class="w-full h-full object-cover px-7">
		  <div class="absolute inset-0 flex items-center justify-center">
			<h2 class="text-white text-3xl md:text-4xl font-bold text-center leading-tight px-6">
			  ¡Descuentos!!<br>Solo por hoy!!<br>20% de descuento en pasadías
			</h2>
		  </div>
		</div>
		<!-- Imagen sin texto -->
		<div class="w-full md:w-1/2 h-72 md:h-96 mt-4 md:mt-0">
		  <img src="img/images/imgDescuentos.webp" alt="Descuento 2" class="w-full h-full object-cover px-7">
		</div>
	  </div>
  
	  <!-- Vista 2 (dos imágenes) -->
	  <div class="flex-shrink-0 w-full flex flex-col md:flex-row">
		<!-- Imagen con texto superpuesto -->
		<div class="relative w-full md:w-1/2 h-72 md:h-96">
		  <img src="img/images/imgBeach.webp" alt="Descuento 3" class="w-full h-full object-cover">
		  <div class="absolute inset-0 flex items-center justify-center">
			<h2 class="text-white text-3xl md:text-4xl font-bold text-center leading-tight px-6">
			  ¡Ofertas increíbles!<br>Viajes 2x1 en destinos seleccionados
			</h2>
		  </div>
		</div>
		<!-- Imagen sin texto -->
		<div class="w-full md:w-1/2 h-72 md:h-96 mt-4 md:mt-0">
		  <img src="img/images/imgDescuentos.webp" alt="Descuento 4" class="w-full h-full object-cover rounded-lg">
		</div>
	  </div>
  
	  <!-- Puedes añadir más vistas (sets de imágenes) de la misma forma -->
	</div>  
		<!-- Botón para ir a la izquierda -->
		<button class="prev absolute bottom-4 left-1/3 transform -translate-x-full bg-white p-3 rounded-full shadow-lg text-gray-800 text-xl">
		&#10094;
		</button>  
		<!-- Botón para ir a la derecha -->
		<button class="next absolute bottom-4 right-1/3 transform translate-x-full bg-white p-3 rounded-full shadow-lg text-gray-800 text-xl">
		&#10095;
		</button>

  </section>
  
<!-- Sección de Comentarios -->
<section class="py-16 px-8 2xl:px-12">
	<div class="mb-20 text-center">
	  <h1 class="text-3xl sm:text-4xl lg:text-5xl font-bold text-[#0A3A4E]">
		Viajamos con Make!!
	  </h1>
	</div>
	
	<!-- Contenedor del Carrusel de Comentarios -->
	<div class="relative max-w-full xl:w-10/12 mx-auto carousel-container">
	  <!-- Contenedor de los items del carrusel -->
	  <div class="max-w-fit xl mx-auto text-lg text-gray-500 leading-relaxed 2xl:px-44 flex flex-row gap-5 overflow-hidden carousel">
		<Coments />
		
	  </div>    
  
	  <!-- Flechas de Navegación -->
	  <button class="prev absolute top-1/2 left-0 transform -translate-y-1/2 bg-white p-3 rounded-lg shadow-lg text-gray-800 text-xl">
		&#10094;
	  </button>
	  <button class="next absolute top-1/2 right-0 transform -translate-y-1/2 bg-white p-3 rounded-lg shadow-lg text-gray-800 text-xl">
		&#10095;
	  </button>
	</div>
  </section>
  

  <!-- Seccion de Contacto y mapa -->
  <div class="bg-[#0A3A4E] mx-auto px-4 py-8">
	<div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
	  <!-- Mapa -->
	  <div class="relative">
		<iframe
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3978.306374040962!2d-77.0781368!3d3.8902402!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8e3723e87a9779b3%3A0xcbf8943b076ec6d!2sEdificio%20Las%20Mercedes!5e0!3m2!1ses-419!2sco!4v1701187004305!5m2!1ses-419!2sco"
            class="w-full h-[600px] rounded-2xl border-2 border-slate-300" allowfullscreen loading="lazy">
        </iframe>
	  </div>
	  
	  <!-- Detalles -->
	  <div class="bg-white text-[#0A3A4E] p-6 rounded-lg">
		<h2 class="text-3xl font-semibold mb-4">Visítanos</h2>
		<p class="text-lg mb-2">Edificio Las Mercedes</p>
		<p class="text-lg mb-4">Cl. 7a #3a-75, Buenaventura, Valle del Cauca</p>
		<p class="text-lg mb-4"><strong>Teléfono:</strong> +1 844-462-7342</p>
		<h3 class="text-xl font-semibold mb-2">Horario:</h3>
		<p class="text-lg mb-4">MON - THURS: 9 AM - 6 PM</p>
		<p class="text-lg mb-4">FRI - SUN: 9 AM - 6 PM</p>
		<a href="#" class="text-blue-400 hover:text-blue-500">Ver todos los planes</a>
	  </div>
	</div>
  </div>	
</Layout>



<script>
	// Selecciona todos los contenedores de carrusel
	document.querySelectorAll('.carousel-container').forEach(container => {
	  const carousel = container.querySelector('.carousel');
	  const nextButton = container.querySelector('.next');
	  const prevButton = container.querySelector('.prev');
	  
	  // Obtener el ancho de desplazamiento desde un atributo 'data'
	  const cardWidth = parseInt(container.getAttribute('data-card-width') || '320'); 
	  const swipeThreshold = cardWidth * 0.25; // Umbral de deslizamiento (25% del ancho)
	  
	  let scrollAmount = 0;
	  let startX = 0;
	  let isDragging = false;
  
	  // Función para actualizar el estado de los botones
	  function updateButtons() {
		const maxScroll = carousel!.scrollWidth - carousel!.clientWidth;
		
		// Deshabilitar el botón "next" si llegamos al final
		if (scrollAmount >= maxScroll) {
		  nextButton?.setAttribute('disabled', 'true');
		} else {
		  nextButton?.removeAttribute('disabled');
		}
		
		// Deshabilitar el botón "prev" si estamos al inicio
		if (scrollAmount <= 0) {
		  prevButton?.setAttribute('disabled', 'true');
		} else {
		  prevButton?.removeAttribute('disabled');
		}
	  }
	  
	  // Llamamos a la función para actualizar los botones al cargar la página
	  updateButtons();
	  
	  // Evento para el botón de siguiente
	  nextButton?.addEventListener('click', () => {
		const maxScroll = carousel!.scrollWidth - carousel!.clientWidth;
		
		if (scrollAmount < maxScroll) {
		  scrollAmount += cardWidth;
		  carousel?.scrollTo({
			left: scrollAmount,
			behavior: 'smooth'
		  });
		  updateButtons(); // Actualizar los botones después de desplazarse
		}
	  });
	  
	  // Evento para el botón de anterior
	  prevButton?.addEventListener('click', () => {
		if (scrollAmount > 0) {
		  scrollAmount -= cardWidth;
		  carousel?.scrollTo({
			left: scrollAmount,
			behavior: 'smooth'
		  });
		  updateButtons(); // Actualizar los botones después de desplazarse
		}
	  });
	  
  	  // Manejo de movimiento táctil
	carousel?.addEventListener('touchstart', (e: any) => {
		startX = e.touches[0].clientX;
		isDragging = true;
  });
  
	carousel?.addEventListener('touchmove', (e: any) => {
		if (!isDragging) return;
  
	const moveX = e.touches[0].clientX;
	const diff = startX - moveX;
  
	if (Math.abs(diff) >= swipeThreshold) {
	  if (diff > 0) {
		scrollAmount += cardWidth;
	  } else {
		scrollAmount -= cardWidth;
	  }
  
	  carousel?.scrollTo({
		left: scrollAmount,
		behavior: 'smooth'
	  });
	  startX = moveX;
	  updateButtons();
	}
  });
	  carousel?.addEventListener('touchend', () => {
		isDragging = false;
	  });
	});
</script>


  
  



  
